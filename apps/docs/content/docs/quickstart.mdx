---
title: Quickstart
icon: Rocket
---

You can setup file upload in your Next.js app in a few minutes with `better-upload`.

This guide will walk you through the steps to set it up.

## Prerequisites

Before you start, make sure you have the following:

- A Next.js project.
- An S3-compatible bucket. You can use AWS S3, Cloudflare R2, or any other.

## Uploading your first image

<Steps>

<Step>

### Install

Install the `better-upload` package, as well as the AWS S3 Client.

```package-install
better-upload @aws-sdk/client-s3
```

</Step>

<Step>

### Set up the Route Handler

The Route Handler will create pre-signed URLs, which the client uses to upload files directly to the S3 bucket.

The recommended location is `app/api/upload/route.ts`, but you can place it anywhere you like.

Change `your-bucket-name` to your S3 bucket name, and configure the S3 client as needed.

```ts title="app/api/upload/route.ts"
import { S3Client } from '@aws-sdk/client-s3';
import { createUploadRouteHandler, route } from 'better-upload/server';

const s3 = new S3Client();

export const { POST } = createUploadRouteHandler({
  client: s3,
  bucketName: 'your-bucket-name', // [!code highlight]
  routes: {
    demo: route({
      fileTypes: ['image/*'],
    }),
  },
});
```

In the example above, we create the upload route `demo` for single images. You can create multiple routes for different purposes, like uploading more than one file. Learn more about routes [here](/routes).

</Step>

<Step>

### Put an `<UploadButton />`

The upload button component is used to upload single files. Put it in a component/page.

**Install it [here](/components/upload-button).**

<Callout type="warn">
  Whether you put it in a component or a page, mark it with `'use client';`, as
  the pre-built components need to be used in client components.
</Callout>

```tsx title="app/page.tsx"
'use client';

import { UploadButton } from '@/components/ui/upload-button';

export default function Page() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-center">
      <UploadButton
        route="demo"
        accept="image/*"
        onUploadComplete={({ file }) => {
          alert(`Uploaded ${file.name}`);
        }}
      />
    </main>
  );
}
```

</Step>

<Step>

### You're done! ðŸŽ‰

You can now run your app and upload an image directly to any S3-compatible service!

</Step>

</Steps>

## Learn more
